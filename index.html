<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™¾æ²æºæœè”¬ç¤¾åŒºå›¢è´­</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .banner {
            background: #ff6b6b;
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 8px;
            margin-bottom: 25px;
        }

        .products {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
        }

        .product-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-2px);
        }

        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .product-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
        }

        .product-price {
            font-size: 1.4em;
            color: #e74c3c;
            font-weight: bold;
        }

        .product-unit {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .product-desc {
            color: #7f8c8d;
            margin: 10px 0;
        }

        .buy-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            width: 100%;
            margin-top: 10px;
            transition: background 0.3s;
        }

        .buy-btn:hover {
            background: #219a52;
        }

        .order-form {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
        }

        .form-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .form-actions button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
        }

        .form-actions button[type="submit"] {
            background: #3498db;
            color: white;
        }

        .form-actions button[type="button"] {
            background: #95a5a6;
            color: white;
        }

        .success-message {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .success-message button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 15px;
        }

        .instruction {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            text-align: left;
        }

        .instruction ol {
            margin-left: 20px;
        }

        .instruction li {
            margin-bottom: 5px;
        }

        .admin-link {
            text-align: center;
            margin-top: 20px;
        }

        .admin-link a {
            color: #3498db;
            text-decoration: none;
        }

        .admin-link a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ æ–°é²œæ°´æœç¤¾åŒºå›¢è´­</h1>
            <p>æ¯æ—¥æ–°é²œç›´è¾¾ Â· å°åŒºè‡ªæ</p>
        </header>

        <div class="banner">
            <h2>ä»Šæ—¥ç‰¹ä»·æ°´æœ</h2>
        </div>

        <!-- å•†å“åˆ—è¡¨ -->
        <div class="products" id="products">
            <!-- å•†å“å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
        </div>

        <!-- è®¢å•è¡¨å• -->
        <div class="order-form" id="orderForm" style="display: none;">
            <h3>å¡«å†™è®¢å•ä¿¡æ¯</h3>
            <form id="submitForm">
                <div class="form-group">
                    <label>å§“å:</label>
                    <input type="text" id="customerName" required>
                </div>
                <div class="form-group">
                    <label>ç”µè¯:</label>
                    <input type="tel" id="customerPhone" required>
                </div>
                <div class="form-group">
                    <label>åœ°å€:</label>
                    <input type="text" id="customerAddress" required placeholder="ä¾‹å¦‚: 8æ ‹301">
                </div>
                <div class="form-group">
                    <label>è®¢è´­å•†å“:</label>
                    <span id="selectedProduct"></span>
                </div>
                <div class="form-group">
                    <label>æ•°é‡:</label>
                    <input type="number" id="quantity" min="1" value="1" required>
                </div>
                <div class="form-actions">
                    <button type="button" onclick="cancelOrder()">å–æ¶ˆ</button>
                    <button type="submit">æäº¤è®¢å•</button>
                </div>
            </form>
        </div>

        <!-- æˆåŠŸæç¤º -->
        <div class="success-message" id="successMessage" style="display: none;">
            <h3>âœ… è®¢å•ä¿¡æ¯å·²ç”Ÿæˆ!</h3>
            <p>æˆ‘ä»¬å·²ä¸ºä½ æ‰“å¼€GitHubè®¢å•æäº¤é¡µé¢...</p>
            <div class="instruction">
                <p><strong>è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œ:</strong></p>
                <ol>
                    <li>åœ¨æ‰“å¼€çš„GitHubé¡µé¢ä¸­æ£€æŸ¥è®¢å•ä¿¡æ¯</li>
                    <li>ç‚¹å‡» "Submit new issue" æäº¤è®¢å•</li>
                    <li>å…³é—­GitHubé¡µé¢è¿”å›è¿™é‡Œ</li>
                </ol>
            </div>
            <button onclick="continueShopping()">ç»§ç»­è´­ä¹°</button>
        </div>

        <!-- ç®¡ç†å‘˜é“¾æ¥ -->
        <div class="admin-link">
            <a href="admin.html">ç®¡ç†å‘˜å…¥å£</a>
        </div>
    </div>

    <script>
        // å•†å“æ•°æ®
        const products = [
            {
                id: 1,
                name: 'æ–°ç–†å“ˆå¯†ç“œ',
                price: 25.8,
                unit: 'ä¸ª',
                description: 'æ–°ç–†ç‰¹çº§å“ˆå¯†ç“œï¼Œé¦™ç”œå¤šæ±'
            },
            {
                id: 2,
                name: 'æ³°å›½é‡‘æ•æ¦´è²',
                price: 39.9,
                unit: 'æ–¤',
                description: 'æ³°å›½è¿›å£é‡‘æ•æ¦´è²ï¼Œè‚‰è´¨é¥±æ»¡'
            },
            {
                id: 3,
                name: 'æ™ºåˆ©è½¦å˜å­',
                price: 68.0,
                unit: 'æ–¤',
                description: 'æ™ºåˆ©JJçº§è½¦å˜å­ï¼Œæœå¾„28-30mm'
            },
            {
                id: 4,
                name: 'æµ·å—éº’éºŸè¥¿ç“œ',
                price: 4.5,
                unit: 'æ–¤',
                description: 'æµ·å—éº’éºŸè¥¿ç“œï¼Œçš®è–„å¤šæ±'
            },
            {
                id: 5,
                name: 'è²å¾‹å®¾é¦™è•‰',
                price: 6.8,
                unit: 'æ–¤',
                description: 'è²å¾‹å®¾è¿›å£é¦™è•‰ï¼Œé¦™ç”œè½¯ç³¯'
            },
            {
                id: 6,
                name: 'æ¾³æ´²æ©™å­',
                price: 12.5,
                unit: 'æ–¤',
                description: 'æ¾³æ´²è¿›å£æ©™å­ï¼Œæœè‚‰é¥±æ»¡'
            }
        ];

        let currentProduct = null;

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts();
            
            // è¡¨å•æäº¤äº‹ä»¶
            document.getElementById('submitForm').addEventListener('submit', function(e) {
                e.preventDefault();
                submitOrder();
            });
        });

        // æ¸²æŸ“å•†å“åˆ—è¡¨
        function renderProducts() {
            const productsContainer = document.getElementById('products');
            productsContainer.innerHTML = '';

            products.forEach(product => {
                const productElement = document.createElement('div');
                productElement.className = 'product-card';
                productElement.innerHTML = `
                    <div class="product-header">
                        <div class="product-name">${product.name}</div>
                        <div class="product-price">Â¥${product.price}</div>
                    </div>
                    <div class="product-unit">å•ä½: ${product.unit}</div>
                    <div class="product-desc">${product.description}</div>
                    <button class="buy-btn" onclick="showOrderForm(${product.id})">
                        ç«‹å³æŠ¢è´­
                    </button>
                `;
                productsContainer.appendChild(productElement);
            });
        }

        // æ˜¾ç¤ºè®¢å•è¡¨å•
        function showOrderForm(productId) {
            currentProduct = products.find(p => p.id === productId);
            
            document.getElementById('selectedProduct').textContent = 
                `${currentProduct.name} (Â¥${currentProduct.price}/${currentProduct.unit})`;
            
            document.getElementById('products').style.display = 'none';
            document.getElementById('orderForm').style.display = 'block';
        }

        // å–æ¶ˆè®¢å•
        function cancelOrder() {
            document.getElementById('orderForm').style.display = 'none';
            document.getElementById('products').style.display = 'grid';
            document.getElementById('submitForm').reset();
            currentProduct = null;
        }

        // å®‰å…¨æäº¤è®¢å• - ä½¿ç”¨GitHub Issuesæ¨¡æ¿URL
        function submitOrder() {
            const formData = {
                name: document.getElementById('customerName').value,
                phone: document.getElementById('customerPhone').value,
                address: document.getElementById('customerAddress').value,
                product: currentProduct.name,
                price: currentProduct.price,
                unit: currentProduct.unit,
                quantity: document.getElementById('quantity').value,
                total: (currentProduct.price * document.getElementById('quantity').value).toFixed(2),
                timestamp: new Date().toLocaleString('zh-CN')
            };

            // ä½¿ç”¨GitHub Issuesé¢„å¡«å……æ¨¡æ¿ - å®‰å…¨æ–¹æ¡ˆ
            const issueTitle = `æ°´æœè®¢å•: ${formData.name} - ${formData.product}`;
            const issueBody = `
## å®¢æˆ·ä¿¡æ¯
- **å§“å:** ${formData.name}
- **ç”µè¯:** ${formData.phone} 
- **åœ°å€:** ${formData.address}

## è®¢å•è¯¦æƒ…  
- **å•†å“:** ${formData.product}
- **å•ä»·:** Â¥${formData.price}/${formData.unit}
- **æ•°é‡:** ${formData.quantity}
- **æ€»ä»·:** Â¥${formData.total}
- **ä¸‹å•æ—¶é—´:** ${formData.timestamp}

## è®¢å•çŠ¶æ€
- [ ] å¾…å¤„ç†
- [ ] å·²è”ç³»å®¢æˆ·
- [ ] å·²é‡‡è´­
- [ ] å·²é…é€
- [ ] å·²å®Œæˆ

## å¤‡æ³¨
è¯·è¾“å…¥é…é€å¤‡æ³¨...
    `;

            // URLç¼–ç 
            const encodedTitle = encodeURIComponent(issueTitle);
            const encodedBody = encodeURIComponent(issueBody);
            
            // é…ç½®ä¿¡æ¯ - æ›¿æ¢ä¸ºä½ çš„GitHubç”¨æˆ·åå’Œä»“åº“å
            const GITHUB_USERNAME = '369369changer';  // æ›¿æ¢ä¸ºä½ çš„GitHubç”¨æˆ·å
            const GITHUB_REPO = 'fruit-orders';       // æ›¿æ¢ä¸ºä½ çš„è®¢å•ä»“åº“å
            
            // åˆ›å»ºGitHub Issues URL (ä¸éœ€è¦token!)
            const githubIssueUrl = `https://github.com/${GITHUB_USERNAME}/${GITHUB_REPO}/issues/new?title=${encodedTitle}&body=${encodedBody}&labels=fruit-order`;
            
            // åœ¨æ–°çª—å£æ‰“å¼€GitHub Issuesé¡µé¢
            window.open(githubIssueUrl, '_blank');
            
            // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯å’ŒæŒ‡å¼•
            document.getElementById('orderForm').style.display = 'none';
            document.getElementById('successMessage').style.display = 'block';
        }

        // é‡ç½®é¡µé¢ç»§ç»­è´­ä¹°
        function continueShopping() {
            document.getElementById('successMessage').style.display = 'none';
            document.getElementById('products').style.display = 'grid';
            document.getElementById('submitForm').reset();
            currentProduct = null;
        }
    </script>
</body>
</html>
